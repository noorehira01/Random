<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mind Garden - Comfort for Overthinkers</title>
    <style>
        /* CSS Reset */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* Global Styles */
        :root {
            --primary: #ff758f;
            --secondary: #ff8e9e;
            --tertiary: #ffa6ac;
            --light: #fff5f7;
            --dark: #5a3d5c;
            --accent: #d4a5d4;
            --text: #5a3d5c;
            --text-light: #b48bb4;
            --bg: #fff5f7;
            --card-bg: #ffffff;
            --header-bg: linear-gradient(135deg, #ff758f 0%, #ff8e9e 50%, #ffa6ac 100%);
            --shadow: 0 5px 20px rgba(255, 117, 143, 0.1);
            --text-on-primary: #ffffff;
        }

        /* Dark Mode Variables */
        .dark-mode {
            --primary: #e76f87;
            --secondary: #e7818e;
            --tertiary: #e7969c;
            --light: #1a1a2e;
            --dark: #e2d7e4;
            --accent: #b48bb4;
            --text: #e2d7e4;
            --text-light: #a58fa5;
            --bg: #1a1a2e;
            --card-bg: #16213e;
            --header-bg: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            --shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
            --text-on-primary: #ffffff;
        }

        body {
            font-family: 'Nunito', 'Arial', sans-serif;
            background-color: var(--bg);
            color: var(--text);
            line-height: 1.6;
            overflow-x: hidden;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-15px); }
            100% { transform: translateY(0px); }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes scaleIn {
            from { transform: scale(0.8); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        /* Header Styles */
        header {
            background: var(--header-bg);
            padding: 2rem 1rem;
            text-align: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }

        .hearts {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            pointer-events: none;
        }

        .heart {
            position: absolute;
            font-size: 1.5rem;
            color: rgba(255, 255, 255, 0.7);
            animation: float 4s ease-in-out infinite;
            opacity: 0;
        }

        h1 {
            font-size: 2.8rem;
            margin-bottom: 0.5rem;
            color: var(--text-on-primary);
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
            position: relative;
            z-index: 2;
            font-weight: 700;
        }

        .subtitle {
            font-size: 1.3rem;
            color: var(--text-on-primary);
            opacity: 0.9;
            font-weight: 300;
            position: relative;
            z-index: 2;
            max-width: 600px;
            margin: 0 auto;
        }

        /* Main Content */
        .container {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 1.5rem;
            animation: fadeIn 1s ease-out;
        }

        /* Pinterest-style grid */
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .grid-item {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 1.5rem;
            box-shadow: var(--shadow);
            transition: all 0.3s ease;
            animation: scaleIn 0.5s ease-out;
            display: flex;
            flex-direction: column;
            border: 1px solid rgba(255, 117, 143, 0.1);
        }

        .grid-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(255, 117, 143, 0.2);
        }

        .quote-container {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow);
            position: relative;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 1px solid rgba(255, 117, 143, 0.1);
        }

        .quote-container:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(255, 117, 143, 0.2);
        }

        .quote-text {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--text);
            line-height: 1.8;
        }

        .quote-author {
            font-style: italic;
            text-align: right;
            color: var(--text-light);
        }

        .controls {
            display: flex;
            justify-content: space-between;
            margin-top: 2rem;
            flex-wrap: wrap;
            gap: 1rem;
        }

        button {
            background: linear-gradient(to right, var(--primary), var(--secondary));
            border: none;
            color: white;
            padding: 0.8rem 1.5rem;
            border-radius: 50px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(255, 117, 143, 0.3);
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            white-space: nowrap;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 117, 143, 0.4);
        }

        button:active {
            transform: translateY(0);
        }

        .favorite-btn {
            background: linear-gradient(to right, var(--accent), #c38ec3);
        }

        .secondary-btn {
            background: var(--card-bg);
            color: var(--primary);
            border: 1px solid var(--primary);
        }

        .favorites-container {
            margin-top: 3rem;
            display: none;
        }

        .favorites-container.show {
            display: block;
            animation: fadeIn 0.5s ease-out;
        }

        .section-title {
            font-size: 1.8rem;
            margin-bottom: 1.5rem;
            color: var(--text);
            text-align: center;
            position: relative;
            padding-bottom: 0.5rem;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 3px;
            background: linear-gradient(to right, var(--primary), var(--accent));
            border-radius: 3px;
        }

        .empty-favorites {
            text-align: center;
            color: var(--text-light);
            font-style: italic;
            margin: 2rem 0;
        }

        /* Breathing Exercise */
        .breathing-exercise {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 2rem;
            margin: 3rem 0;
            text-align: center;
            box-shadow: var(--shadow);
            border: 1px solid rgba(255, 117, 143, 0.1);
        }

        .breathing-circle {
            width: 150px;
            height: 150px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 50%;
            margin: 1.5rem auto;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            font-weight: bold;
            transition: all 4s ease-in-out;
            animation: none;
        }

        @keyframes breathe {
            0%, 100% {
                transform: scale(1);
                background: linear-gradient(135deg, var(--primary), var(--secondary));
            }
            25% {
                transform: scale(1.2);
                background: linear-gradient(135deg, var(--secondary), #ff7f96);
            }
            50% {
                transform: scale(1);
                background: linear-gradient(135deg, #ff7f96, #ff6b86);
            }
            75% {
                transform: scale(0.8);
                background: linear-gradient(135deg, #ff6b86, #ff5777);
            }
        }

        /* Journal Section */
        .journal-entry {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: var(--shadow);
            border: 1px solid rgba(255, 117, 143, 0.1);
        }

        .journal-date {
            font-size: 0.9rem;
            color: var(--text-light);
            margin-bottom: 0.5rem;
        }

        .journal-content {
            margin-bottom: 1rem;
            line-height: 1.6;
            white-space: pre-wrap;
        }

        textarea {
            width: 100%;
            min-height: 150px;
            padding: 1rem;
            border-radius: 10px;
            border: 1px solid var(--accent);
            font-family: 'Nunito', sans-serif;
            font-size: 1rem;
            margin-bottom: 1rem;
            resize: vertical;
            transition: all 0.3s ease;
            background: var(--card-bg);
            color: var(--text);
        }

        textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(255, 117, 143, 0.2);
        }

        /* Mood Tracker */
        .mood-tracker {
            display: flex;
            justify-content: space-between;
            margin: 1.5rem 0;
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        .mood-option {
            flex: 1;
            min-width: 60px;
            text-align: center;
            padding: 0.5rem;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: var(--card-bg);
            border: 1px solid var(--accent);
        }

        .mood-option:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(255, 117, 143, 0.1);
        }

        .mood-option.selected {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .mood-emoji {
            font-size: 1.5rem;
            margin-bottom: 0.3rem;
        }

        .mood-label {
            font-size: 0.8rem;
        }

        /* Affirmation Cards */
        .affirmation-card {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(255, 117, 143, 0.1);
        }

        .affirmation-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 5px;
            height: 100%;
            background: linear-gradient(to bottom, var(--primary), var(--accent));
        }

        /* Gratitude Section */
        .gratitude-item {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
            padding: 0.8rem;
            background: var(--card-bg);
            border-radius: 10px;
            box-shadow: var(--shadow);
            border: 1px solid rgba(255, 117, 143, 0.1);
        }

        .gratitude-checkbox {
            margin-right: 1rem;
            accent-color: var(--primary);
        }

        .gratitude-text {
            flex: 1;
            background: transparent;
            border: none;
            color: var(--text);
            font-family: 'Nunito', sans-serif;
            padding: 0.5rem;
            border-bottom: 1px solid var(--accent);
        }

        .gratitude-text:focus {
            outline: none;
            border-bottom-color: var(--primary);
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 2rem;
            color: var(--text-light);
            font-size: 0.9rem;
            background: var(--bg);
            border-top: 1px solid rgba(255, 182, 193, 0.1);
            margin-top: 3rem;
        }

        /* Responsive */
        @media (max-width: 768px) {
            h1 {
                font-size: 2rem;
            }
            
            .quote-text {
                font-size: 1.2rem;
            }
            
            .controls {
                flex-direction: column;
            }
            
            button {
                width: 100%;
                justify-content: center;
            }

            .mood-option {
                min-width: 50px;
            }
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--primary);
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--secondary);
        }

        /* Tabs */
        .tabs {
            display: flex;
            border-bottom: 1px solid var(--accent);
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }

        .tab {
            padding: 0.8rem 1.5rem;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
            font-weight: 600;
            color: var(--text-light);
        }

        .tab.active {
            color: var(--primary);
            border-bottom-color: var(--primary);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.5s ease-out;
        }

        /* Progress tracker */
        .progress-container {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: var(--shadow);
            border: 1px solid rgba(255, 117, 143, 0.1);
        }

        .progress-bar {
            height: 10px;
            background: var(--accent);
            border-radius: 5px;
            margin: 1rem 0;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(to right, var(--primary), var(--accent));
            border-radius: 5px;
            transition: width 0.5s ease;
        }

        .progress-stats {
            display: flex;
            justify-content: space-between;
            color: var(--text-light);
            font-size: 0.9rem;
        }

        /* Theme Toggle */
        .theme-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--primary);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            border: none;
            transition: all 0.3s ease;
        }

        .theme-toggle:hover {
            transform: scale(1.1);
        }

        /* Floral Divider */
        .floral-divider {
            text-align: center;
            margin: 2rem 0;
            color: var(--text-light);
            position: relative;
        }

        .floral-divider::before,
        .floral-divider::after {
            content: '';
            position: absolute;
            top: 50%;
            width: 30%;
            height: 1px;
            background: var(--accent);
        }

        .floral-divider::before {
            left: 0;
        }

        .floral-divider::after {
            right: 0;
        }

        /* Daily Check-in */
        .check-in-container {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: var(--shadow);
            border: 1px solid rgba(255, 117, 143, 0.1);
        }

        .check-in-question {
            margin-bottom: 1rem;
            font-weight: 600;
        }

        .check-in-options {
            display: flex;
            gap: 1rem;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }

        .check-in-option {
            padding: 0.5rem 1rem;
            border-radius: 20px;
            background: var(--bg);
            border: 1px solid var(--accent);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .check-in-option.selected {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        /* Flower Animation */
        .flower-animation {
            text-align: center;
            margin: 2rem 0;
        }

        .flower {
            font-size: 2rem;
            display: inline-block;
            animation: bloom 2s ease-in-out infinite alternate;
        }

        @keyframes bloom {
            from { transform: scale(0.8) rotate(-5deg); }
            to { transform: scale(1.1) rotate(5deg); }
        }

        /* Encouragement Button */
        .encouragement-btn {
            background: transparent;
            border: 2px dashed var(--primary);
            color: var(--primary);
            padding: 1rem;
            border-radius: 15px;
            width: 100%;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 1rem 0;
        }

        .encouragement-btn:hover {
            background: rgba(255, 117, 143, 0.1);
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <header>
        <div class="hearts" id="hearts-container"></div>
        <h1>Mind Garden</h1>
        <p class="subtitle">Nurture your thoughts with kindness and care</p>
    </header>

    <div class="container">
        <!-- Tabs Navigation -->
        <div class="tabs">
            <div class="tab active" data-tab="comfort">Comfort</div>
            <div class="tab" data-tab="journal">Journal</div>
            <div class="tab" data-tab="tools">Tools</div>
            <div class="tab" data-tab="progress">Progress</div>
        </div>

        <!-- Comfort Tab -->
        <div id="comfort" class="tab-content active">
            <div class="quote-container">
                <p class="quote-text" id="quote-text">You are stronger than you think, braver than you believe, and more capable than you imagine.</p>
                <p class="quote-author" id="quote-author">- A. A. Milne (Winnie the Pooh)</p>
            </div>

            <div class="controls">
                <button id="new-quote-btn">
                    <i class="fas fa-heart"></i> New Comfort
                </button>
                <button class="favorite-btn" id="favorite-btn">
                    <i class="fas fa-star"></i> Save
                </button>
                <button id="show-favorites-btn">
                    <i class="fas fa-bookmark"></i> My Comforts
                </button>
                <button class="secondary-btn" id="affirmation-btn">
                    <i class="fas fa-magic"></i> Affirmation
                </button>
            </div>

            <div class="favorites-container" id="favorites-container">
                <h2 class="section-title">Your Comfort Collection</h2>
                <div id="favorites-list"></div>
                <p class="empty-favorites" id="empty-favorites">Your comfort collection is empty. Click the star to save comforting words.</p>
            </div>

            <div class="floral-divider">
                <i class="fas fa-spa"></i>
            </div>

            <div class="grid">
                <div class="grid-item">
                    <h3><i class="fas fa-seedling" style="color: var(--primary);"></i> Today's Affirmation</h3>
                    <p id="daily-affirmation">I am worthy of love and belonging exactly as I am.</p>
                    <button class="secondary-btn" style="margin-top: auto;" id="new-affirmation-btn">
                        <i class="fas fa-sync-alt"></i> New Affirmation
                    </button>
                </div>

                <div class="grid-item">
                    <h3><i class="fas fa-cloud-sun" style="color: var(--primary);"></i> Mood Check</h3>
                    <p>How are you feeling today?</p>
                    <div class="mood-tracker" id="mood-tracker">
                        <div class="mood-option" data-mood="awful">
                            <div class="mood-emoji">üò≠</div>
                            <div class="mood-label">Awful</div>
                        </div>
                        <div class="mood-option" data-mood="bad">
                            <div class="mood-emoji">üòî</div>
                            <div class="mood-label">Struggling</div>
                        </div>
                        <div class="mood-option" data-mood="neutral">
                            <div class="mood-emoji">üòê</div>
                            <div class="mood-label">Okay</div>
                        </div>
                        <div class="mood-option" data-mood="good">
                            <div class="mood-emoji">üòä</div>
                            <div class="mood-label">Good</div>
                        </div>
                        <div class="mood-option" data-mood="great">
                            <div class="mood-emoji">üòÑ</div>
                            <div class="mood-label">Great!</div>
                        </div>
                    </div>
                    <small id="mood-date" style="color: var(--text-light); text-align: right; display: block;"></small>
                </div>

                <div class="grid-item">
                    <h3><i class="fas fa-spa" style="color: var(--primary);"></i> Breathing Space</h3>
                    <p>When thoughts feel overwhelming, try this:</p>
                    <div class="breathing-circle" id="breathing-circle">Begin</div>
                    <button id="start-breathing-btn" style="margin-top: auto;">
                        <i class="fas fa-play"></i> Start
                    </button>
                </div>
            </div>

            <div class="flower-animation">
                <div class="flower">üå∏</div>
            </div>

            <div class="check-in-container">
                <div class="check-in-question">How are you really doing today?</div>
                <div class="check-in-options" id="check-in-options">
                    <div class="check-in-option" data-feeling="overwhelmed">Overwhelmed</div>
                    <div class="check-in-option" data-feeling="anxious">Anxious</div>
                    <div class="check-in-option" data-feeling="okay">Okay</div>
                    <div class="check-in-option" data-feeling="hopeful">Hopeful</div>
                    <div class="check-in-option" data-feeling="peaceful">Peaceful</div>
                </div>
                <button id="save-check-in-btn" class="secondary-btn">
                    <i class="fas fa-check"></i> Save Check-in
                </button>
            </div>
        </div>

        <!-- Journal Tab -->
        <div id="journal" class="tab-content">
            <h2 class="section-title">Thought Garden Journal</h2>
            <p style="text-align: center; margin-bottom: 1.5rem; color: var(--text-light);">Plant your thoughts here and watch them grow with kindness</p>
            
            <div class="journal-entry">
                <div class="journal-date" id="journal-date"></div>
                <textarea id="journal-text" placeholder="What's on your mind today? Be gentle with yourself..."></textarea>
                <div class="controls">
                    <button id="save-journal-btn">
                        <i class="fas fa-save"></i> Save Entry
                    </button>
                    <button class="secondary-btn" id="clear-journal-btn">
                        <i class="fas fa-trash-alt"></i> Clear
                    </button>
                </div>
            </div>

            <button class="encouragement-btn" id="journal-encouragement-btn">
                <i class="fas fa-heart"></i> I'm proud of you for journaling today
            </button>

            <h3 class="section-title">Past Blossoms</h3>
            <div id="journal-entries"></div>
        </div>

        <!-- Tools Tab -->
        <div id="tools" class="tab-content">
            <h2 class="section-title">Mindfulness Tools</h2>
            
            <div class="grid">
                <div class="grid-item">
                    <h3><i class="fas fa-list-check" style="color: var(--primary);"></i> Gratitude List</h3>
                    <p>Three things you're grateful for today:</p>
                    <div id="gratitude-list">
                        <div class="gratitude-item">
                            <input type="checkbox" class="gratitude-checkbox" id="gratitude-1">
                            <input type="text" class="gratitude-text" placeholder="Something good..." data-id="1">
                        </div>
                        <div class="gratitude-item">
                            <input type="checkbox" class="gratitude-checkbox" id="gratitude-2">
                            <input type="text" class="gratitude-text" placeholder="Something beautiful..." data-id="2">
                        </div>
                        <div class="gratitude-item">
                            <input type="checkbox" class="gratitude-checkbox" id="gratitude-3">
                            <input type="text" class="gratitude-text" placeholder="Something meaningful..." data-id="3">
                        </div>
                    </div>
                    <button id="save-gratitude-btn" style="margin-top: 1rem;">
                        <i class="fas fa-save"></i> Save List
                    </button>
                </div>

                <div class="grid-item">
                    <h3><i class="fas fa-question-circle" style="color: var(--primary);"></i> Thought Reframing</h3>
                    <p>Challenge negative thoughts:</p>
                    <textarea id="negative-thought" placeholder="What's worrying you?" style="min-height: 80px; margin-bottom: 1rem;"></textarea>
                    <button id="reframe-thought-btn" style="margin-bottom: 1rem;">
                        <i class="fas fa-lightbulb"></i> Reframe
                    </button>
                    <div id="reframed-thought" style="background: rgba(255, 117, 143, 0.1); padding: 1rem; border-radius: 10px; border-left: 3px solid var(--primary); display: none;">
                        <p style="font-weight: 600;">Alternative perspective:</p>
                        <p id="reframed-text"></p>
                    </div>
                </div>

                <div class="grid-item">
                    <h3><i class="fas fa-hand-holding-heart" style="color: var(--primary);"></i> Self-Compassion Break</h3>
                    <p>When you're being hard on yourself:</p>
                    <ol style="margin: 1rem 0; padding-left: 1.5rem;">
                        <li style="margin-bottom: 0.5rem;">Pause and acknowledge your pain</li>
                        <li style="margin-bottom: 0.5rem;">Remember you're not alone</li>
                        <li style="margin-bottom: 0.5rem;">Offer yourself kindness</li>
                    </ol>
                    <button id="compassion-exercise-btn">
                        <i class="fas fa-heart"></i> Start Exercise
                    </button>
                    <div id="compassion-prompts" style="display: none; margin-top: 1rem;">
                        <p id="compassion-prompt" style="font-style: italic; color: var(--text-light);"></p>
                        <button id="next-compassion-btn" style="margin-top: 1rem;">
                            <i class="fas fa-arrow-right"></i> Next
                        </button>
                    </div>
                </div>
            </div>

            <div class="flower-animation">
                <div class="flower">üåº</div>
            </div>

            <div class="grid">
                <div class="grid-item">
                    <h3><i class="fas fa-moon" style="color: var(--primary);"></i> Sleep Quality</h3>
                    <p>How did you sleep last night?</p>
                    <div class="mood-tracker" id="sleep-tracker" style="margin-top: 1rem;">
                        <div class="mood-option" data-sleep="restless">
                            <div class="mood-emoji">üò¥</div>
                            <div class="mood-label">Restless</div>
                        </div>
                        <div class="mood-option" data-sleep="okay">
                            <div class="mood-emoji">üòå</div>
                            <div class="mood-label">Okay</div>
                        </div>
                        <div class="mood-option" data-sleep="good">
                            <div class="mood-emoji">üòä</div>
                            <div class="mood-label">Good</div>
                        </div>
                        <div class="mood-option" data-sleep="great">
                            <div class="mood-emoji">üòÑ</div>
                            <div class="mood-label">Great!</div>
                        </div>
                    </div>
                    <button id="save-sleep-btn" style="margin-top: 1rem;">
                        <i class="fas fa-save"></i> Save
                    </button>
                </div>

                <div class="grid-item">
                    <h3><i class="fas fa-water" style="color: var(--primary);"></i> Hydration Tracker</h3>
                    <p>How many glasses of water today?</p>
                    <div style="display: flex; gap: 0.5rem; margin: 1rem 0; flex-wrap: wrap;">
                        <div class="mood-option" data-glasses="1">1</div>
                        <div class="mood-option" data-glasses="2">2</div>
                        <div class="mood-option" data-glasses="3">3</div>
                        <div class="mood-option" data-glasses="4">4</div>
                        <div class="mood-option" data-glasses="5">5+</div>
                    </div>
                    <button id="save-hydration-btn" style="margin-top: 1rem;">
                        <i class="fas fa-save"></i> Save
                    </button>
                </div>

                <div class="grid-item">
                    <h3><i class="fas fa-heartbeat" style="color: var(--primary);"></i> Self-Care Reminder</h3>
                    <p>Take a moment for yourself:</p>
                    <button id="self-care-suggestion-btn" style="margin-top: 1rem; width: 100%;">
                        <i class="fas fa-lightbulb"></i> Get a Self-Care Idea
                    </button>
                    <div id="self-care-suggestion" style="margin-top: 1rem; padding: 1rem; background: rgba(255, 117, 143, 0.1); border-radius: 10px; display: none;">
                        <p id="self-care-text"></p>
                        <button id="another-suggestion-btn" style="margin-top: 1rem;">
                            <i class="fas fa-sync-alt"></i> Another Idea
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Progress Tab -->
        <div id="progress" class="tab-content">
            <h2 class="section-title">Your Growth Journey</h2>
            
            <div class="progress-container">
                <h3><i class="fas fa-chart-line" style="color: var(--primary);"></i> Mood Over Time</h3>
                <div style="height: 200px; background: rgba(255, 117, 143, 0.1); border-radius: 10px; display: flex; align-items: flex-end; padding: 0.5rem; gap: 0.5rem; margin: 1rem 0;">
                    <div style="flex: 1; background: #ffd1dc; border-radius: 5px; transition: height 0.5s ease;" id="mood-chart-bar-1"></div>
                    <div style="flex: 1; background: #ffd1dc; border-radius: 5px; transition: height 0.5s ease;" id="mood-chart-bar-2"></div>
                    <div style="flex: 1; background: #ffd1dc; border-radius: 5px; transition: height 0.5s ease;" id="mood-chart-bar-3"></div>
                    <div style="flex: 1; background: #ffd1dc; border-radius: 5px; transition: height 0.5s ease;" id="mood-chart-bar-4"></div>
                    <div style="flex: 1; background: #ffd1dc; border-radius: 5px; transition: height 0.5s ease;" id="mood-chart-bar-5"></div>
                    <div style="flex: 1; background: #ffd1dc; border-radius: 5px; transition: height 0.5s ease;" id="mood-chart-bar-6"></div>
                    <div style="flex: 1; background: #ffd1dc; border-radius: 5px; transition: height 0.5s ease;" id="mood-chart-bar-7"></div>
                </div>
                <div style="display: flex; justify-content: space-between; color: var(--text-light); font-size: 0.8rem;">
                    <span id="chart-date-1"></span>
                    <span id="chart-date-7">Today</span>
                </div>
            </div>

            <div class="grid">
                <div class="grid-item">
                    <h3><i class="fas fa-calendar-check" style="color: var(--primary);"></i> Journal Streak</h3>
                    <div style="text-align: center; margin: 1rem 0;">
                        <div style="font-size: 3rem; font-weight: 700; color: var(--primary);" id="journal-streak">0</div>
                        <div style="color: var(--text-light);">days in a row</div>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="journal-streak-bar" style="width: 0%"></div>
                    </div>
                    <div class="progress-stats">
                        <span>0%</span>
                        <span id="journal-streak-goal">Goal: 7 days</span>
                    </div>
                </div>

                <div class="grid-item">
                    <h3><i class="fas fa-heart" style="color: var(--primary);"></i> Self-Care Tracker</h3>
                    <div style="margin: 1rem 0;">
                        <label style="display: block; margin-bottom: 0.5rem;">
                            <input type="checkbox" id="care-1"> Drank enough water
                        </label>
                        <label style="display: block; margin-bottom: 0.5rem;">
                            <input type="checkbox" id="care-2"> Took breaks
                        </label>
                        <label style="display: block; margin-bottom: 0.5rem;">
                            <input type="checkbox" id="care-3"> Moved my body
                        </label>
                        <label style="display: block; margin-bottom: 0.5rem;">
                            <input type="checkbox" id="care-4"> Practiced self-compassion
                        </label>
                    </div>
                    <button id="save-care-btn">
                        <i class="fas fa-save"></i> Save
                    </button>
                </div>

                <div class="grid-item">
                    <h3><i class="fas fa-award" style="color: var(--primary);"></i> Achievements</h3>
                    <div id="achievements-list" style="margin-top: 1rem;">
                        <div style="display: flex; align-items: center; margin-bottom: 0.5rem; opacity: 0.5;">
                            <i class="fas fa-lock" style="margin-right: 0.5rem; color: var(--text-light);"></i>
                            <span>First Journal Entry</span>
                        </div>
                        <div style="display: flex; align-items: center; margin-bottom: 0.5rem; opacity: 0.5;">
                            <i class="fas fa-lock" style="margin-right: 0.5rem; color: var(--text-light);"></i>
                            <span>3-Day Journal Streak</span>
                        </div>
                        <div style="display: flex; align-items: center; margin-bottom: 0.5rem; opacity: 0.5;">
                            <i class="fas fa-lock" style="margin-right: 0.5rem; color: var(--text-light);"></i>
                            <span>Saved 5 Comforts</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="flower-animation">
                <div class="flower">üå∫</div>
            </div>

            <div class="progress-container">
                <h3><i class="fas fa-check-circle" style="color: var(--primary);"></i> Weekly Check-ins</h3>
                <div style="margin: 1rem 0;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                        <span>Mood Tracking</span>
                        <span id="mood-checkins">0/7 days</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="mood-checkins-bar" style="width: 0%"></div>
                    </div>
                </div>
                <div style="margin: 1rem 0;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                        <span>Gratitude Practice</span>
                        <span id="gratitude-checkins">0/7 days</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="gratitude-checkins-bar" style="width: 0%"></div>
                    </div>
                </div>
                <div style="margin: 1rem 0;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                        <span>Self-Care</span>
                        <span id="selfcare-checkins">0/7 days</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="selfcare-checkins-bar" style="width: 0%"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <p>Remember: Growth isn't about perfection. Every small step counts. üå∏</p>
    </footer>

    <button class="theme-toggle" id="theme-toggle">
        <i class="fas fa-moon" id="theme-icon"></i>
    </button>

    <script>
        // Enhanced Quotes database
        const quotes = [
            {
                text: "You are stronger than you think, braver than you believe, and more capable than you imagine.",
                author: "A. A. Milne (Winnie the Pooh)"
            },
            {
                text: "Overthinking is the art of creating problems that weren't even there.",
                author: "Unknown"
            },
            {
                text: "You don't have to have it all figured out to move forward.",
                author: "Unknown"
            },
            {
                text: "Your mind is a garden. Your thoughts are the seeds. You can grow flowers or you can grow weeds.",
                author: "Unknown"
            },
            {
                text: "This feeling is temporary. You've survived 100% of your worst days so far.",
                author: "Unknown"
            },
            {
                text: "You are not your thoughts. You are the observer of your thoughts.",
                author: "Unknown"
            },
            {
                text: "The moment you feel like you have to prove your worth to someone is the moment to walk away.",
                author: "Alysia Harris"
            },
            {
                text: "You're allowed to outgrow people. You're allowed to outgrow past versions of yourself.",
                author: "Unknown"
            },
            {
                text: "Not everything that weighs you down is yours to carry.",
                author: "Unknown"
            },
            {
                text: "Your value doesn't decrease based on someone's inability to see your worth.",
                author: "Unknown"
            },
            {
                text: "You are not required to set yourself on fire to keep other people warm.",
                author: "Unknown"
            },
            {
                text: "Self-care is how you take your power back.",
                author: "Lalah Delia"
            },
            {
                text: "You are not too much. You are not too sensitive. You are not too emotional. You are exactly as you were meant to be.",
                author: "Unknown"
            },
            {
                text: "The things that make you different are the things that make YOU.",
                author: "Winnie the Pooh"
            },
            {
                text: "You don't have to be perfect to be worthy of love and belonging.",
                author: "Bren√© Brown"
            },
            {
                text: "Your current situation is not your final destination.",
                author: "Unknown"
            },
            {
                text: "Healing is not linear. Growth is not linear. Progress is not linear. Be gentle with yourself.",
                author: "Unknown"
            },
            {
                text: "You are allowed to be both a masterpiece and a work in progress simultaneously.",
                author: "Sophia Bush"
            },
            {
                text: "The only way out is through. And you will get through this.",
                author: "Robert Frost"
            },
            {
                text: "You are so much more than the thoughts that try to shrink you.",
                author: "Unknown"
            }
        ];

        // Affirmations database
        const affirmations = [
            "I am worthy of love and belonging exactly as I am.",
            "I release what no longer serves me with compassion.",
            "My feelings are valid and important.",
            "I am allowed to take up space.",
            "I choose peace over perfection.",
            "I am growing at my own pace.",
            "My needs matter and deserve to be met.",
            "I am enough, just as I am in this moment.",
            "I trust myself to handle whatever comes my way.",
            "I am learning to be gentle with myself.",
            "My past does not define my future.",
            "I am deserving of kindness, especially from myself.",
            "I release the need to control everything.",
            "I am allowed to set boundaries that honor my wellbeing.",
            "My sensitivity is my strength.",
            "I embrace my perfectly imperfect journey.",
            "I am becoming more myself every day.",
            "I choose thoughts that nourish me.",
            "My heart is wise and I trust its guidance.",
            "I am safe in this moment."
        ];

        // Thought reframing examples
        const reframes = {
            "i can't do this": "I'm feeling challenged right now, but I can take it one step at a time",
            "i'm a failure": "I'm learning and growing through this experience",
            "no one understands me": "Some people may not understand me yet, and that's okay",
            "i'll never get better": "Healing takes time, and I'm making progress even when it's not visible",
            "everything is going wrong": "Some things are difficult right now, but not everything",
            "i'm not good enough": "I am enough just as I am, with room to grow",
            "i should be over this by now": "There's no timeline for healing, and I'm right where I need to be",
            "i can't stop worrying": "I'm noticing my worries, and that's the first step to managing them",
            "i don't deserve happiness": "Everyone deserves happiness, including me",
            "i'm so stupid": "I'm learning, and mistakes are part of the process"
        };

        // Compassion prompts
        const compassionPrompts = [
            "Place a hand on your heart and say: 'This is hard right now, and that's okay.'",
            "Remember a time you felt this way before and got through it. What helped then?",
            "What would you say to a dear friend feeling this way? Say that to yourself now.",
            "Name the emotion you're feeling without judgment. Just notice it with curiosity.",
            "Offer yourself permission to feel this way. 'It makes sense I feel ____ because ____.'",
            "Visualize wrapping yourself in warmth and kindness, like a soft blanket.",
            "Whisper to yourself: 'You're not alone in feeling this way.'",
            "Think of one small act of kindness you can do for yourself right now."
        ];

        // Self-care suggestions
        const selfCareSuggestions = [
            "Drink a glass of water and take 3 deep breaths",
            "Step outside for 5 minutes and notice the sky",
            "Write down one thing you appreciate about yourself",
            "Do a 2-minute stretch - reach for the sky and touch your toes",
            "Put on a song you love and dance like no one's watching",
            "Text a friend just to say you're thinking of them",
            "Name 3 things you can see, 2 you can touch, and 1 you can hear",
            "Massage your own hands for 1 minute",
            "Write down one small win from today",
            "Look in the mirror and say 'I'm doing my best'"
        ];

        // DOM Elements
        const quoteText = document.getElementById('quote-text');
        const quoteAuthor = document.getElementById('quote-author');
        const newQuoteBtn = document.getElementById('new-quote-btn');
        const favoriteBtn = document.getElementById('favorite-btn');
        const showFavoritesBtn = document.getElementById('show-favorites-btn');
        const favoritesContainer = document.getElementById('favorites-container');
        const favoritesList = document.getElementById('favorites-list');
        const emptyFavorites = document.getElementById('empty-favorites');
        const heartsContainer = document.getElementById('hearts-container');
        const breathingCircle = document.getElementById('breathing-circle');
        const startBreathingBtn = document.getElementById('start-breathing-btn');
        const dailyAffirmation = document.getElementById('daily-affirmation');
        const newAffirmationBtn = document.getElementById('new-affirmation-btn');
        const moodTracker = document.getElementById('mood-tracker');
        const moodDate = document.getElementById('mood-date');
        const journalDate = document.getElementById('journal-date');
        const journalText = document.getElementById('journal-text');
        const saveJournalBtn = document.getElementById('save-journal-btn');
        const clearJournalBtn = document.getElementById('clear-journal-btn');
        const journalEntries = document.getElementById('journal-entries');
        const gratitudeList = document.getElementById('gratitude-list');
        const saveGratitudeBtn = document.getElementById('save-gratitude-btn');
        const negativeThought = document.getElementById('negative-thought');
        const reframeThoughtBtn = document.getElementById('reframe-thought-btn');
        const reframedThought = document.getElementById('reframed-thought');
        const reframedText = document.getElementById('reframed-text');
        const compassionExerciseBtn = document.getElementById('compassion-exercise-btn');
        const compassionPromptsDiv = document.getElementById('compassion-prompts');
        const compassionPrompt = document.getElementById('compassion-prompt');
        const nextCompassionBtn = document.getElementById('next-compassion-btn');
        const tabs = document.querySelectorAll('.tab');
        const tabContents = document.querySelectorAll('.tab-content');
        const moodChartBars = [
            document.getElementById('mood-chart-bar-1'),
            document.getElementById('mood-chart-bar-2'),
            document.getElementById('mood-chart-bar-3'),
            document.getElementById('mood-chart-bar-4'),
            document.getElementById('mood-chart-bar-5'),
            document.getElementById('mood-chart-bar-6'),
            document.getElementById('mood-chart-bar-7')
        ];
        const chartDates = [
            document.getElementById('chart-date-1'),
            document.getElementById('chart-date-7')
        ];
        const journalStreak = document.getElementById('journal-streak');
        const journalStreakBar = document.getElementById('journal-streak-bar');
        const journalStreakGoal = document.getElementById('journal-streak-goal');
        const saveCareBtn = document.getElementById('save-care-btn');
        const themeToggle = document.getElementById('theme-toggle');
        const themeIcon = document.getElementById('theme-icon');
        const checkInOptions = document.getElementById('check-in-options');
        const saveCheckInBtn = document.getElementById('save-check-in-btn');
        const sleepTracker = document.getElementById('sleep-tracker');
        const saveSleepBtn = document.getElementById('save-sleep-btn');
        const saveHydrationBtn = document.getElementById('save-hydration-btn');
        const selfCareSuggestionBtn = document.getElementById('self-care-suggestion-btn');
        const selfCareSuggestion = document.getElementById('self-care-suggestion');
        const selfCareText = document.getElementById('self-care-text');
        const anotherSuggestionBtn = document.getElementById('another-suggestion-btn');
        const journalEncouragementBtn = document.getElementById('journal-encouragement-btn');
        const moodCheckins = document.getElementById('mood-checkins');
        const moodCheckinsBar = document.getElementById('mood-checkins-bar');
        const gratitudeCheckins = document.getElementById('gratitude-checkins');
        const gratitudeCheckinsBar = document.getElementById('gratitude-checkins-bar');
        const selfcareCheckins = document.getElementById('selfcare-checkins');
        const selfcareCheckinsBar = document.getElementById('selfcare-checkins-bar');
        const affirmationBtn = document.getElementById('affirmation-btn');

        // State
        let currentQuote = {};
        let favorites = JSON.parse(localStorage.getItem('favorites')) || [];
        let isBreathing = false;
        let moodHistory = JSON.parse(localStorage.getItem('moodHistory')) || [];
        let journalHistory = JSON.parse(localStorage.getItem('journalHistory')) || [];
        let gratitudeHistory = JSON.parse(localStorage.getItem('gratitudeHistory')) || [];
        let selfCareHistory = JSON.parse(localStorage.getItem('selfCareHistory')) || [];
        let checkInHistory = JSON.parse(localStorage.getItem('checkInHistory')) || [];
        let sleepHistory = JSON.parse(localStorage.getItem('sleepHistory')) || [];
        let hydrationHistory = JSON.parse(localStorage.getItem('hydrationHistory')) || [];
        let currentCompassionIndex = 0;
        let currentMood = null;
        let currentFeeling = null;
        let currentSleep = null;
        let currentHydration = null;
        let isDarkMode = localStorage.getItem('darkMode') === 'true';

        // Initialize
        function init() {
            // Set theme
            if (isDarkMode) {
                document.body.classList.add('dark-mode');
                themeIcon.classList.remove('fa-moon');
                themeIcon.classList.add('fa-sun');
            }
            
            displayRandomQuote();
            displayRandomAffirmation();
            renderHearts();
            updateFavoritesDisplay();
            checkIfFavorite();
            setupMoodTracker();
            setupJournal();
            setupGratitudeList();
            setupSelfCareTracker();
            setupCheckIn();
            setupSleepTracker();
            setupHydrationTracker();
            updateProgressTab();
            
            // Set current date for journal
            updateDates();
            
            // Setup tab switching
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    tabs.forEach(t => t.classList.remove('active'));
                    tabContents.forEach(c => c.classList.remove('active'));
                    
                    tab.classList.add('active');
                    document.getElementById(tab.dataset.tab).classList.add('active');
                    
                    // Special handling for progress tab
                    if (tab.dataset.tab === 'progress') {
                        updateProgressTab();
                    }
                });
            });
        }

        // Update dates
        function updateDates() {
            const today = new Date();
            journalDate.textContent = today.toLocaleDateString('en-US', { 
                weekday: 'long', 
                month: 'long', 
                day: 'numeric' 
            });
            
            moodDate.textContent = "Today: " + today.toLocaleDateString('en-US', { 
                month: 'short', 
                day: 'numeric' 
            });
            
            // Set chart dates
            const last7Days = getLast7Days();
            chartDates[0].textContent = new Date(last7Days[0]).toLocaleDateString('en-US', { 
                month: 'short', 
                day: 'numeric' 
            });
        }

        // Get last 7 days
        function getLast7Days() {
            const today = new Date();
            const last7Days = [];
            
            for (let i = 6; i >= 0; i--) {
                const date = new Date(today);
                date.setDate(date.getDate() - i);
                last7Days.push(date.toDateString());
            }
            
            return last7Days;
        }

        // Display a random quote
        function displayRandomQuote() {
            const randomIndex = Math.floor(Math.random() * quotes.length);
            currentQuote = quotes[randomIndex];
            quoteText.textContent = currentQuote.text;
            quoteAuthor.textContent = `- ${currentQuote.author}`;
            
            checkIfFavorite();
        }

        // Display a random affirmation
        function displayRandomAffirmation() {
            const randomIndex = Math.floor(Math.random() * affirmations.length);
            dailyAffirmation.textContent = affirmations[randomIndex];
        }

        // Check if current quote is in favorites
        function checkIfFavorite() {
            const isFavorite = favorites.some(fav => 
                fav.text === currentQuote.text && fav.author === currentQuote.author
            );
            
            if (isFavorite) {
                favoriteBtn.innerHTML = '<i class="fas fa-star"></i> Saved';
                favoriteBtn.style.opacity = '0.7';
                favoriteBtn.style.cursor = 'default';
            } else {
                favoriteBtn.innerHTML = '<i class="fas fa-star"></i> Save';
                favoriteBtn.style.opacity = '1';
                favoriteBtn.style.cursor = 'pointer';
            }
        }

        // Add to favorites
        function addToFavorites() {
            // Check if already favorited
            const alreadyFavorited = favorites.some(fav => 
                fav.text === currentQuote.text && fav.author === currentQuote.author
            );
            
            if (!alreadyFavorited) {
                favorites.push(currentQuote);
                localStorage.setItem('favorites', JSON.stringify(favorites));
                checkIfFavorite();
                updateFavoritesDisplay();
                
                showNotification('Saved to your comfort collection!');
                updateProgressTab();
            }
        }

        // Remove from favorites
        function removeFromFavorites(quoteText, quoteAuthor) {
            favorites = favorites.filter(fav => 
                !(fav.text === quoteText && fav.author === quoteAuthor)
            );
            localStorage.setItem('favorites', JSON.stringify(favorites));
            updateFavoritesDisplay();
            
            // If the removed quote is the current one, update favorite button
            if (currentQuote.text === quoteText && currentQuote.author === quoteAuthor) {
                checkIfFavorite();
            }
            
            updateProgressTab();
        }

        // Update favorites display
        function updateFavoritesDisplay() {
            favoritesList.innerHTML = '';
            
            if (favorites.length === 0) {
                emptyFavorites.style.display = 'block';
            } else {
                emptyFavorites.style.display = 'none';
                
                favorites.forEach((quote, index) => {
                    const quoteElement = document.createElement('div');
                    quoteElement.className = 'quote-container';
                    quoteElement.style.animationDelay = `${index * 0.1}s`;
                    quoteElement.innerHTML = `
                        <p class="quote-text">${quote.text}</p>
                        <p class="quote-author">- ${quote.author}</p>
                        <button class="remove-favorite-btn" data-text="${quote.text}" data-author="${quote.author}">
                            <i class="fas fa-trash-alt"></i> Remove
                        </button>
                    `;
                    favoritesList.appendChild(quoteElement);
                });
                
                // Add event listeners to remove buttons
                document.querySelectorAll('.remove-favorite-btn').forEach(btn => {
                    btn.addEventListener('click', function() {
                        const text = this.getAttribute('data-text');
                        const author = this.getAttribute('data-author');
                        removeFromFavorites(text, author);
                    });
                });
            }
        }

        // Toggle favorites display
        function toggleFavoritesDisplay() {
            favoritesContainer.classList.toggle('show');
            
            if (favoritesContainer.classList.contains('show')) {
                showFavoritesBtn.innerHTML = '<i class="fas fa-times"></i> Close';
            } else {
                showFavoritesBtn.innerHTML = '<i class="fas fa-bookmark"></i> My Comforts';
            }
        }

        // Create floating hearts
        function renderHearts() {
            // Clear existing hearts
            heartsContainer.innerHTML = '';
            
            // Create new hearts
            for (let i = 0; i < 15; i++) {
                const heart = document.createElement('div');
                heart.className = 'heart';
                heart.innerHTML = '‚ù§';
                heart.style.left = `${Math.random() * 100}%`;
                heart.style.top = `${Math.random() * 100}%`;
                heart.style.animationDelay = `${Math.random() * 5}s`;
                heart.style.opacity = '0';
                
                // Random size
                const size = 0.5 + Math.random();
                heart.style.fontSize = `${size}rem`;
                
                heartsContainer.appendChild(heart);
                
                // Fade in after delay
                setTimeout(() => {
                    heart.style.opacity = '1';
                }, Math.random() * 1000);
            }
        }

        // Breathing exercise
        function toggleBreathing() {
            if (isBreathing) {
                // Stop breathing
                breathingCircle.classList.remove('animate');
                breathingCircle.textContent = 'Begin';
                startBreathingBtn.innerHTML = '<i class="fas fa-play"></i> Start';
                isBreathing = false;
            } else {
                // Start breathing
                breathingCircle.classList.add('animate');
                startBreathingBtn.innerHTML = '<i class="fas fa-stop"></i> Stop';
                isBreathing = true;
                
                // Update circle text with instructions
                let cycle = 0;
                const instructions = ['Breathe In', 'Hold', 'Breathe Out', 'Hold'];
                
                const updateText = () => {
                    if (!isBreathing) return;
                    breathingCircle.textContent = instructions[cycle % 4];
                    cycle++;
                };
                
                // Update every 4 seconds (since animation is 8s total)
                updateText();
                const interval = setInterval(updateText, 4000);
                
                // Clean up when stopped
                startBreathingBtn.addEventListener('click', () => {
                    clearInterval(interval);
                }, { once: true });
            }
        }

        // Mood tracker setup
        function setupMoodTracker() {
            const moodOptions = document.querySelectorAll('.mood-option');
            
            moodOptions.forEach(option => {
                option.addEventListener('click', function() {
                    // Remove selected class from all options
                    moodOptions.forEach(opt => opt.classList.remove('selected'));
                    
                    // Add selected class to clicked option
                    this.classList.add('selected');
                    currentMood = this.dataset.mood;
                    
                    // Save mood to history
                    saveMood();
                });
            });
            
            // Check if mood is already logged today
            const today = new Date().toDateString();
            const todayMood = moodHistory.find(entry => entry.date === today);
            
            if (todayMood) {
                const selectedOption = document.querySelector(`.mood-option[data-mood="${todayMood.mood}"]`);
                if (selectedOption) {
                    selectedOption.classList.add('selected');
                    currentMood = todayMood.mood;
                }
            }
        }

        // Save mood to history
        function saveMood() {
            if (!currentMood) return;
            
            const today = new Date().toDateString();
            
            // Remove existing entry for today if it exists
            moodHistory = moodHistory.filter(entry => entry.date !== today);
            
            // Add new entry
            moodHistory.push({
                date: today,
                mood: currentMood
            });
            
            // Save to localStorage
            localStorage.setItem('moodHistory', JSON.stringify(moodHistory));
            
            // Update progress tab
            updateProgressTab();
            
            showNotification('Mood saved for today');
        }

        // Journal setup
        function setupJournal() {
            // Load today's journal entry if it exists
            const today = new Date().toDateString();
            const todayEntry = journalHistory.find(entry => entry.date === today);
            
            if (todayEntry) {
                journalText.value = todayEntry.content;
            }
            
            // Load past journal entries
            loadJournalEntries();
        }

        // Save journal entry
        function saveJournalEntry() {
            const content = journalText.value.trim();
            
            const today = new Date().toDateString();
            
            // Remove existing entry for today if it exists
            journalHistory = journalHistory.filter(entry => entry.date !== today);
            
            // Add new entry only if there's content
            if (content) {
                journalHistory.push({
                    date: today,
                    content: content
                });
            }
            
            // Save to localStorage
            localStorage.setItem('journalHistory', JSON.stringify(journalHistory));
            
            // Reload entries
            loadJournalEntries();
            
            if (content) {
                showNotification('Journal entry saved');
            } else {
                showNotification('Journal entry cleared');
            }
            
            updateProgressTab();
        }

        // Clear journal entry
        function clearJournalEntry() {
            journalText.value = '';
            saveJournalEntry(); // This will save the empty entry
        }

        // Load journal entries
        function loadJournalEntries() {
            journalEntries.innerHTML = '';
            
            // Sort by date (newest first)
            const sortedEntries = [...journalHistory].sort((a, b) => {
                return new Date(b.date) - new Date(a.date);
            });
            
            // Don't show today's entry in history
            const today = new Date().toDateString();
            const filteredEntries = sortedEntries.filter(entry => entry.date !== today && entry.content.trim() !== '');
            
            if (filteredEntries.length === 0) {
                journalEntries.innerHTML = '<p style="text-align: center; color: var(--text-light); font-style: italic;">No past entries yet</p>';
                return;
            }
            
            filteredEntries.forEach(entry => {
                const entryDate = new Date(entry.date);
                const formattedDate = entryDate.toLocaleDateString('en-US', { 
                    weekday: 'long', 
                    month: 'long', 
                    day: 'numeric',
                    year: 'numeric'
                });
                
                const entryElement = document.createElement('div');
                entryElement.className = 'journal-entry';
                entryElement.innerHTML = `
                    <div class="journal-date">${formattedDate}</div>
                    <div class="journal-content">${entry.content.replace(/\n/g, '<br>')}</div>
                `;
                journalEntries.appendChild(entryElement);
            });
        }

        // Gratitude list setup
        function setupGratitudeList() {
            const today = new Date().toDateString();
            const todayGratitude = gratitudeHistory.find(entry => entry.date === today);
            
            if (todayGratitude) {
                const inputs = document.querySelectorAll('.gratitude-text');
                inputs.forEach((input, index) => {
                    if (todayGratitude.items[index]) {
                        input.value = todayGratitude.items[index].text;
                        document.getElementById(`gratitude-${index+1}`).checked = todayGratitude.items[index].checked;
                    }
                });
            }
        }

        // Save gratitude list
        function saveGratitudeList() {
            const inputs = document.querySelectorAll('.gratitude-text');
            const checkboxes = document.querySelectorAll('.gratitude-checkbox');
            
            const items = Array.from(inputs).map((input, index) => {
                return {
                    text: input.value.trim(),
                    checked: checkboxes[index].checked
                };
            });
            
            // Only save if at least one item has text
            if (items.some(item => item.text)) {
                const today = new Date().toDateString();
                
                // Remove existing entry for today if it exists
                gratitudeHistory = gratitudeHistory.filter(entry => entry.date !== today);
                
                // Add new entry
                gratitudeHistory.push({
                    date: today,
                    items: items
                });
                
                // Save to localStorage
                localStorage.setItem('gratitudeHistory', JSON.stringify(gratitudeHistory));
                
                showNotification('Gratitude list saved');
                updateProgressTab();
            } else {
                showNotification('Please add at least one item to your gratitude list');
            }
        }

        // Self-care tracker setup
        function setupSelfCareTracker() {
            const today = new Date().toDateString();
            const todayCare = selfCareHistory.find(entry => entry.date === today);
            
            if (todayCare) {
                todayCare.items.forEach((item, index) => {
                    if (document.getElementById(`care-${index+1}`)) {
                        document.getElementById(`care-${index+1}`).checked = item.checked;
                    }
                });
            }
        }

        // Save self-care tracker
        function saveSelfCareTracker() {
            const checkboxes = [
                document.getElementById('care-1'),
                document.getElementById('care-2'),
                document.getElementById('care-3'),
                document.getElementById('care-4')
            ];
            
            const items = checkboxes.map(checkbox => {
                return {
                    id: checkbox.id,
                    checked: checkbox.checked
                };
            });
            
            const today = new Date().toDateString();
            
            // Remove existing entry for today if it exists
            selfCareHistory = selfCareHistory.filter(entry => entry.date !== today);
            
            // Add new entry
            selfCareHistory.push({
                date: today,
                items: items
            });
            
            // Save to localStorage
            localStorage.setItem('selfCareHistory', JSON.stringify(selfCareHistory));
            
            showNotification('Self-care checklist saved');
            updateProgressTab();
        }

        // Check-in setup
        function setupCheckIn() {
            const checkInOptions = document.querySelectorAll('.check-in-option');
            
            checkInOptions.forEach(option => {
                option.addEventListener('click', function() {
                    // Remove selected class from all options
                    checkInOptions.forEach(opt => opt.classList.remove('selected'));
                    
                    // Add selected class to clicked option
                    this.classList.add('selected');
                    currentFeeling = this.dataset.feeling;
                });
            });
            
            // Check if check-in is already logged today
            const today = new Date().toDateString();
            const todayCheckIn = checkInHistory.find(entry => entry.date === today);
            
            if (todayCheckIn) {
                const selectedOption = document.querySelector(`.check-in-option[data-feeling="${todayCheckIn.feeling}"]`);
                if (selectedOption) {
                    selectedOption.classList.add('selected');
                    currentFeeling = todayCheckIn.feeling;
                }
            }
        }

        // Save check-in
        function saveCheckIn() {
            if (!currentFeeling) return;
            
            const today = new Date().toDateString();
            
            // Remove existing entry for today if it exists
            checkInHistory = checkInHistory.filter(entry => entry.date !== today);
            
            // Add new entry
            checkInHistory.push({
                date: today,
                feeling: currentFeeling
            });
            
            // Save to localStorage
            localStorage.setItem('checkInHistory', JSON.stringify(checkInHistory));
            
            showNotification('Check-in saved');
        }

        // Sleep tracker setup
        function setupSleepTracker() {
            const sleepOptions = document.querySelectorAll('#sleep-tracker .mood-option');
            
            sleepOptions.forEach(option => {
                option.addEventListener('click', function() {
                    // Remove selected class from all options
                    sleepOptions.forEach(opt => opt.classList.remove('selected'));
                    
                    // Add selected class to clicked option
                    this.classList.add('selected');
                    currentSleep = this.dataset.sleep;
                });
            });
            
            // Check if sleep is already logged today
            const today = new Date().toDateString();
            const todaySleep = sleepHistory.find(entry => entry.date === today);
            
            if (todaySleep) {
                const selectedOption = document.querySelector(`#sleep-tracker .mood-option[data-sleep="${todaySleep.sleep}"]`);
                if (selectedOption) {
                    selectedOption.classList.add('selected');
                    currentSleep = todaySleep.sleep;
                }
            }
        }

        // Save sleep
        function saveSleep() {
            if (!currentSleep) return;
            
            const today = new Date().toDateString();
            
            // Remove existing entry for today if it exists
            sleepHistory = sleepHistory.filter(entry => entry.date !== today);
            
            // Add new entry
            sleepHistory.push({
                date: today,
                sleep: currentSleep
            });
            
            // Save to localStorage
            localStorage.setItem('sleepHistory', JSON.stringify(sleepHistory));
            
            showNotification('Sleep quality saved');
            updateProgressTab();
        }

        // Hydration tracker setup
        function setupHydrationTracker() {
            const hydrationOptions = document.querySelectorAll('[data-glasses]');
            
            hydrationOptions.forEach(option => {
                option.addEventListener('click', function() {
                    // Remove selected class from all options
                    hydrationOptions.forEach(opt => opt.classList.remove('selected'));
                    
                    // Add selected class to clicked option
                    this.classList.add('selected');
                    currentHydration = this.dataset.glasses;
                });
            });
            
            // Check if hydration is already logged today
            const today = new Date().toDateString();
            const todayHydration = hydrationHistory.find(entry => entry.date === today);
            
            if (todayHydration) {
                const selectedOption = document.querySelector(`[data-glasses="${todayHydration.glasses}"]`);
                if (selectedOption) {
                    selectedOption.classList.add('selected');
                    currentHydration = todayHydration.glasses;
                }
            }
        }

        // Save hydration
        function saveHydration() {
            if (!currentHydration) return;
            
            const today = new Date().toDateString();
            
            // Remove existing entry for today if it exists
            hydrationHistory = hydrationHistory.filter(entry => entry.date !== today);
            
            // Add new entry
            hydrationHistory.push({
                date: today,
                glasses: currentHydration
            });
            
            // Save to localStorage
            localStorage.setItem('hydrationHistory', JSON.stringify(hydrationHistory));
            
            showNotification('Hydration saved');
            updateProgressTab();
        }

        // Get self-care suggestion
        function getSelfCareSuggestion() {
            const randomIndex = Math.floor(Math.random() * selfCareSuggestions.length);
            selfCareText.textContent = selfCareSuggestions[randomIndex];
            selfCareSuggestion.style.display = 'block';
        }

        // Reframe negative thought
        function reframeNegativeThought() {
            const thought = negativeThought.value.trim().toLowerCase();
            
            if (!thought) {
                showNotification('Please enter a thought to reframe');
                return;
            }
            
            // Find the best matching reframe
            let bestMatch = null;
            let bestMatchLength = 0;
            
            for (const [key, value] of Object.entries(reframes)) {
                if (thought.includes(key) && key.length > bestMatchLength) {
                    bestMatch = value;
                    bestMatchLength = key.length;
                }
            }
            
            if (bestMatch) {
                reframedText.textContent = bestMatch;
            } else {
                reframedText.textContent = "This thought is just one perspective. What's another way to look at this situation?";
            }
            
            reframedThought.style.display = 'block';
        }

        // Start compassion exercise
        function startCompassionExercise() {
            currentCompassionIndex = 0;
            compassionPrompt.textContent = compassionPrompts[currentCompassionIndex];
            compassionPromptsDiv.style.display = 'block';
            compassionExerciseBtn.style.display = 'none';
        }

        // Next compassion prompt
        function nextCompassionPrompt() {
            currentCompassionIndex = (currentCompassionIndex + 1) % compassionPrompts.length;
            compassionPrompt.textContent = compassionPrompts[currentCompassionIndex];
            
            // If we've looped back to the beginning, end the exercise
            if (currentCompassionIndex === 0) {
                compassionPromptsDiv.style.display = 'none';
                compassionExerciseBtn.style.display = 'block';
                showNotification('Compassion exercise completed üå∏');
            }
        }

        // Toggle theme
        function toggleTheme() {
            isDarkMode = !isDarkMode;
            document.body.classList.toggle('dark-mode');
            
            if (isDarkMode) {
                themeIcon.classList.remove('fa-moon');
                themeIcon.classList.add('fa-sun');
            } else {
                themeIcon.classList.remove('fa-sun');
                themeIcon.classList.add('fa-moon');
            }
            
            localStorage.setItem('darkMode', isDarkMode);
        }

        // Update progress tab
        function updateProgressTab() {
            updateMoodChart();
            updateJournalStreak();
            updateAchievements();
            updateWeeklyCheckins();
        }

        // Update mood chart
        function updateMoodChart() {
            // Get last 7 days of mood data
            const last7Days = getLast7Days();
            
            // Map mood to height values
            const moodValues = {
                'awful': 20,
                'bad': 40,
                'neutral': 60,
                'good': 80,
                'great': 100
            };
            
            // Update each bar
            last7Days.forEach((date, index) => {
                const moodEntry = moodHistory.find(entry => entry.date === date);
                const height = moodEntry ? moodValues[moodEntry.mood] || 0 : 0;
                
                if (moodChartBars[index]) {
                    moodChartBars[index].style.height = `${height}%`;
                    
                    // Set color based on mood
                    if (moodEntry) {
                        const colors = {
                            'awful': '#ff6b6b',
                            'bad': '#ff9a76',
                            'neutral': '#ffd166',
                            'good': '#a5dee5',
                            'great': '#7acbcd'
                        };
                        moodChartBars[index].style.background = colors[moodEntry.mood] || '#ffd1dc';
                    }
                }
            });
        }

        // Update journal streak
        function updateJournalStreak() {
            // Sort journal entries by date
            const sortedEntries = [...journalHistory].sort((a, b) => {
                return new Date(b.date) - new Date(a.date);
            });
            
            // Calculate current streak
            let streak = 0;
            let currentDate = new Date();
            
            // Check if today has an entry
            const todayEntry = sortedEntries.find(entry => 
                new Date(entry.date).toDateString() === currentDate.toDateString() && 
                entry.content.trim() !== ''
            );
            
            if (todayEntry) {
                streak = 1;
                currentDate.setDate(currentDate.getDate() - 1);
                
                // Check consecutive previous days
                while (true) {
                    const prevEntry = sortedEntries.find(entry => 
                        new Date(entry.date).toDateString() === currentDate.toDateString() && 
                        entry.content.trim() !== ''
                    );
                    
                    if (prevEntry) {
                        streak++;
                        currentDate.setDate(currentDate.getDate() - 1);
                    } else {
                        break;
                    }
                }
            }
            
            journalStreak.textContent = streak;
            const streakPercent = Math.min(100, (streak / 7) * 100);
            journalStreakBar.style.width = `${streakPercent}%`;
            
            if (streak >= 7) {
                journalStreakGoal.textContent = 'Goal achieved! üéâ';
            } else {
                journalStreakGoal.textContent = `Goal: ${7 - streak} more days`;
            }
            
            // Update achievements
            updateAchievements();
        }

        // Update weekly check-ins
        function updateWeeklyCheckins() {
            const last7Days = getLast7Days();
            
            // Mood check-ins
            const moodCheckinsCount = moodHistory.filter(entry => 
                last7Days.includes(entry.date)
            ).length;
            
            moodCheckins.textContent = `${moodCheckinsCount}/7 days`;
            moodCheckinsBar.style.width = `${(moodCheckinsCount / 7) * 100}%`;
            
            // Gratitude check-ins
            const gratitudeCheckinsCount = gratitudeHistory.filter(entry => 
                last7Days.includes(entry.date) && 
                entry.items.some(item => item.text.trim() !== '')
            ).length;
            
            gratitudeCheckins.textContent = `${gratitudeCheckinsCount}/7 days`;
            gratitudeCheckinsBar.style.width = `${(gratitudeCheckinsCount / 7) * 100}%`;
            
            // Self-care check-ins
            const selfcareCheckinsCount = selfCareHistory.filter(entry => 
                last7Days.includes(entry.date) && 
                entry.items.some(item => item.checked)
            ).length;
            
            selfcareCheckins.textContent = `${selfcareCheckinsCount}/7 days`;
            selfcareCheckinsBar.style.width = `${(selfcareCheckinsCount / 7) * 100}%`;
        }

        // Update achievements
        function updateAchievements() {
            const achievementsList = document.getElementById('achievements-list');
            achievementsList.innerHTML = '';
            
            // Calculate achievements
            const journalEntriesCount = journalHistory.filter(entry => entry.content.trim() !== '').length;
            const favoritesCount = favorites.length;
            const journalStreakCount = parseInt(journalStreak.textContent);
            
            // Achievement 1: First journal entry
            const achievement1 = {
                title: "First Journal Entry",
                earned: journalEntriesCount >= 1,
                icon: "fa-pen",
                color: "#ff758f"
            };
            
            // Achievement 2: 3-day journal streak
            const achievement2 = {
                title: "3-Day Journal Streak",
                earned: journalStreakCount >= 3,
                icon: "fa-fire",
                color: "#ff9a76"
            };
            
            // Achievement 3: Saved 5 comforts
            const achievement3 = {
                title: "Saved 5 Comforts",
                earned: favoritesCount >= 5,
                icon: "fa-star",
                color: "#d4a5d4"
            };
            
            // Achievement 4: 7-day journal streak
            const achievement4 = {
                title: "7-Day Journal Streak",
                earned: journalStreakCount >= 7,
                icon: "fa-trophy",
                color: "#7acbcd"
            };
            
            // Display achievements
            [achievement1, achievement2, achievement3, achievement4].forEach(achievement => {
                const achievementElement = document.createElement('div');
                achievementElement.style.display = 'flex';
                achievementElement.style.alignItems = 'center';
                achievementElement.style.marginBottom = '0.5rem';
                achievementElement.style.opacity = achievement.earned ? '1' : '0.5';
                
                achievementElement.innerHTML = `
                    <i class="fas ${achievement.earned ? achievement.icon : 'fa-lock'}" 
                       style="margin-right: 0.5rem; color: ${achievement.earned ? achievement.color : 'var(--text-light)'};"></i>
                    <span>${achievement.title}</span>
                    ${achievement.earned ? '<span style="margin-left: auto; color: var(--text-light);">‚úì</span>' : ''}
                `;
                
                achievementsList.appendChild(achievementElement);
            });
        }

        // Show notification
        function showNotification(message) {
            const notification = document.createElement('div');
            notification.textContent = message;
            notification.style.position = 'fixed';
            notification.style.bottom = '20px';
            notification.style.left = '50%';
            notification.style.transform = 'translateX(-50%)';
            notification.style.backgroundColor = 'var(--primary)';
            notification.style.color = 'white';
            notification.style.padding = '12px 24px';
            notification.style.borderRadius = '50px';
            notification.style.boxShadow = '0 3px 10px rgba(0,0,0,0.1)';
            notification.style.zIndex = '1000';
            notification.style.animation = 'fadeIn 0.3s, fadeIn 0.3s 2s reverse forwards';
            document.body.appendChild(notification);
            
            setTimeout(() => {
                document.body.removeChild(notification);
            }, 2500);
        }

        // Event Listeners
        newQuoteBtn.addEventListener('click', displayRandomQuote);
        favoriteBtn.addEventListener('click', addToFavorites);
        showFavoritesBtn.addEventListener('click', toggleFavoritesDisplay);
        startBreathingBtn.addEventListener('click', toggleBreathing);
        newAffirmationBtn.addEventListener('click', displayRandomAffirmation);
        saveJournalBtn.addEventListener('click', saveJournalEntry);
        clearJournalBtn.addEventListener('click', clearJournalEntry);
        saveGratitudeBtn.addEventListener('click', saveGratitudeList);
        reframeThoughtBtn.addEventListener('click', reframeNegativeThought);
        compassionExerciseBtn.addEventListener('click', startCompassionExercise);
        nextCompassionBtn.addEventListener('click', nextCompassionPrompt);
        saveCareBtn.addEventListener('click', saveSelfCareTracker);
        themeToggle.addEventListener('click', toggleTheme);
        saveCheckInBtn.addEventListener('click', saveCheckIn);
        saveSleepBtn.addEventListener('click', saveSleep);
        saveHydrationBtn.addEventListener('click', saveHydration);
        selfCareSuggestionBtn.addEventListener('click', getSelfCareSuggestion);
        anotherSuggestionBtn.addEventListener('click', getSelfCareSuggestion);
        journalEncouragementBtn.addEventListener('click', () => {
            showNotification("You're doing great by taking time for yourself! üíñ");
        });
        affirmationBtn.addEventListener('click', displayRandomAffirmation);

        // Initialize the app
        init();
    </script>
</body>
</html>